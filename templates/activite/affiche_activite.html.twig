{% extends 'base.html.twig' %}

{% block title %}
    <title>Activite</title>
{% endblock %}

{% block body %}
<div class="table_centre-container">
    <table class="centre-table">
    <div>
    <input type="text" name="text"  id="search-input" placeholder="Search " class="input"> 
    </div>

        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Description</th>
                <th>Type</th>
                <th>Centre</th>
                <th>Centre Photo</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="activite-table-body">
            {% for activite in a %}
                <tr class="activite-row">
                    <td>{{ activite.id_activite }}</td>
                    <td class="Nom_activite">{{ activite.getNomActivite() }}</td>
                    <td class="description">{{ activite.getDescription() }}</td>
                    <td>{{ activite.getType() }}</td>
                    {# Affichage du nom du centre #}
                     <td class="nom_centre">{{ activite.centre.getNomCentre()}}</td>
                    {# Affichage de la photo du centre #}
                    <td><img src="{{ asset('uploads/' ~ activite.centre.photo) }}" alt="Photo du centre" class="centre-photo" width="100" height="100"></td>
                    <td>
                        <a href="{{ path('app_act_supprimer', {'id_activite': activite.getId_activite()}) }}" class="btn">Supprimer</a>
                        <a href="{{ path('app_modifier_act', {'Nom_activite': activite.getNomActivite()}) }}" class="btn">Modifier</a>
                        <a href="{{ path('app_excel') }}" class="btn btn-primary">Générer Excel</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div>
        <a href="{{ path('app_ajouter_act') }}" class="btn btn-large">Ajouter</a>
    </div>
</div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
     $('#search-input').on('input', function() {
        const searchTerm = $(this).val().toLowerCase();
        $('.activite-row').each(function() {
            const nomCentre = $(this).find('.nom_centre').text().toLowerCase();
            if (nomCentre.includes(searchTerm)) {
                $(this).show();
            } else {
                $(this).hide();
            }
        });
    });
});

    </script>


{% endblock %}




