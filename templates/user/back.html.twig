{% extends 'base.html.twig' %}

{% block title %}
<title>User backend</title>
{% endblock %}



{% block body %}

<h1>User backend</h1>
<div class="table_centre-container">
<div class="col-md-12">
            <a href="{{ path('export_users') }}" class="btn btn-success mb-3"><span style="color: black;">Export Users to Excel</span></a>
        </div>
        <table class="table table-striped table-bordered">
    <thead class="thead-dark">
        <tr>
             <th scope="col">Email</th>
            <th scope="col">Nom</th>
            <th scope="col">Prenom</th>
            <th scope="col">Numéro de téléphone</th>
            <th scope="col">Photo</th>
            <th colspan="3">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
        <tr>
            <td><span style="color: black;">{{ user.email }}</span></td>
            <td><span style="color: black;">{{ user.nom }}</span></td>
            <td><span style="color: black;">{{ user.prenom }}</span></td>
            <td><span style="color: black;">{{ user.numerodetelephone }}</span></td>
            <td>
                {% if user.photoD %}
                <img src="{{ asset('uploads/' ~ user.photoD) }}" alt="Photo" style="max-width: 100px; max-height: 100px;">
                {% else %}
                <span style="color: black;">No photo available</span>
                {% endif %}
            </td>
            <td>

    <form method="post" action="{{ path('user_delete', {'id': user.id}) }}" onsubmit="return confirm('Are you sure you want to delete this user?');">
        <button type="submit" class="btn btn-danger"><span style="color: black;">Delete</span></button>
    </form>
            </td>
            
            <td>
        <a href="{{ path('admin_user_edit', {'id': user.id}) }}" class="btn btn-secondary"><span style="color: black;">Edit</span></a>
    </td>
    <td>
    <a href="{{ path('user_generate_pdf', {'id': user.id}) }}" class="btn btn-danger">Generate PDF</a>
</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="6"><span style="color: black;">No records found</span></td>
        </tr>
        {% endfor %}
    </tbody>
</table>


      
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <nav aria-label="Page navigation example">
									<ul class="pagination justify-content-center">
										{% if CurrentPage > 1 %}
											<li class="page-item">
												<a hidden class="page-link" href="{{ path('user_index', { 'page': CurrentPage - 1 }) }}">Précédent</a>
												<a class="page-link" href="{{ path('user_index', { 'page': CurrentPage - 1 }) }}" aria-label="Previous">
													<span aria-hidden="true">&laquo;</span>
													<span class="sr-only">Previous</span>
												</a>
											</li>
										{% endif %}
										{% for page in 1..pagesCount %}
											{% if page == CurrentPage %}
												<li class="page-item active">
													<span class="page-link">{{ page }}</span>
												</li>
											{% else %}
												<li class="page-item">
													<a class="page-link" href="{{ path('user_index', {'page': page}) }}">{{ page }}</a>
												</li>
											{% endif %}
										{% endfor %}
										{% if CurrentPage < pagesCount %}
											<li class="page-item">
												<a hidden class="page-link" href="{{ path('user_index', { 'page': CurrentPage + 1 }) }}">Next</a>
												<a class="page-link" href="{{ path('user_index', { 'page': CurrentPage + 1 }) }}" aria-label="Next">
													<span aria-hidden="true">&raquo;</span>
													<span class="sr-only">Next</span>
												</a>
											</li>
										{% endif %}
									</ul>
								</nav>
                    
        <!--**********************************
            Content body end
        ***********************************-->


        <!--**********************************
            Footer start
        ***********************************-->
        
        <!--**********************************
            Footer end
        ***********************************-->

        <!--**********************************
           Support ticket button start
        ***********************************-->

        <!--**********************************
           Support ticket button end
        ***********************************-->

        
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->
    <!-- Required vendors -->






    <script src=" {{asset('../vendor/global/global.min.js')}}"></script>
    <script src="{{asset('./js/quixnav-init.js')}}"></script>
    <script src="{{asset('./js/custom.min.js')}}"></script>
    



    <!-- Jquery Validation -->
    <script src="{{asset('./vendor/jquery-validation/jquery.validate.min.js')}}"></script>
    <!-- Form validate init -->
    <script src="{{asset('./js/plugins-init/jquery.validate-init.js')}}"></script>
    
   





















</body>


</html>












{% endblock %}
